<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cute Lamp ðŸ’¡ with Login Form</title>
    <style>
        *,
        *:after,
        *:before {
            box-sizing: border-box;
        }

        :root {
            --cord: hsl(210, 0%, calc((40 + (var(--on, 0) * 50)) * 1%));
            --opening: hsl(50, calc((10 + (var(--on, 0) * 80)) * 1%), calc((20 + (var(--on, 0) * 70)) * 1%));
            --feature: #0a0a0a;
            --accent: 210;
            --tongue: #e06952;
            --base-top: hsl(var(--accent), 0%, calc((40 + (var(--on, 0) * 40)) * 1%));
            --base-side: hsl(var(--accent), 0%, calc((20 + (var(--on, 0) * 40)) * 1%));
            --post: hsl(var(--accent), 0%, calc((20 + (var(--on, 0) * 40)) * 1%));
            --b-1: hsla(45, 0%, calc((50 + (var(--on, 0) * 50)) * 1%), 0.85);
            --l-1: hsla(45, calc((0 + (var(--on, 0) * 20)) * 1%), calc((50 + (var(--on, 0) * 50)) * 1%), 0.85);
            --shade-hue: 320;
            --t-1: hsl(var(--shade-hue), calc((0 + (var(--on, 0) * 20)) * 1%), calc((30 + (var(--on, 0) * 60)) * 1%));
            --t-2: hsl(var(--shade-hue), calc((0 + (var(--on, 0) * 20)) * 1%), calc((20 + (var(--on, 0) * 35)) * 1%));
            --t-3: hsl(var(--shade-hue), calc((0 + (var(--on, 0) * 20)) * 1%), calc((10 + (var(--on, 0) * 20)) * 1%));
            --glow-color: hsl(320, 40%, 45%);
            --glow-color-dark: hsl(320, 40%, 35%);
        }

        body {
            min-height: 100vh;
            display: grid;
            place-items: center;
            background: #121921;
            margin: 0;
            font-family: system-ui, sans-serif;
        }

        .container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8vmin;
            flex-wrap: wrap;
            padding: 2rem;
        }

        .login-form {
            background: rgba(18, 25, 33, 0.9);
            padding: 3rem 2.5rem;
            border-radius: 20px;
            min-width: 320px;
            opacity: 0;
            transform: scale(0.8) translateY(20px);
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 2px solid transparent;
            box-shadow: 0 0 0 rgba(255, 255, 255, 0);
        }

        .login-form.active {
            opacity: 1;
            transform: scale(1) translateY(0);
            pointer-events: all;
            border-color: var(--glow-color);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.1), 0 0 30px var(--glow-color),
                inset 0 0 15px rgba(255, 255, 255, 0.05);
        }

        .login-form h2 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 0 0 8px var(--glow-color);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 5px var(--glow-color);
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--glow-color);
            box-shadow: 0 0 10px var(--glow-color);
        }

        .login-btn {
            width: 100%;
            padding: 0.875rem;
            background: linear-gradient(135deg, var(--glow-color), var(--glow-color-dark));
            border: none;
            border-radius: 10px;
            color: #fff;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin-top: 0.5rem;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3), 0 0 20px var(--glow-color);
        }

        .forgot-link {
            color: #888;
            font-size: 0.9rem;
            text-decoration: none;
        }

        .forgot-link:hover {
            color: var(--glow-color);
        }

        .lamp {
            height: 40vmin;
            overflow: visible !important;
        }

        .lamp__hit {
            cursor: pointer;
            opacity: 0;
        }

        .lamp__mouth,
        .lamp__light {
            opacity: var(--on, 0);
        }

        .cord {
            stroke: var(--cord);
        }

        .cord--rig {
            display: none;
        }

        .lamp__tongue {
            fill: var(--tongue);
        }

        .post__body {
            fill: var(--post);
        }

        .base__top {
            fill: var(--base-top);
        }

        .base__side {
            fill: var(--base-side);
        }

        .top__body {
            fill: var(--t-3);
        }
    </style>
</head>

<body>
    <form class="radio-controls">
        <input type="radio" id="off" name="status" value="off" />
        <label for="off" style="color: #fff; font-weight: 600;">Off</label>
        <input type="radio" id="on" name="status" value="on" />
        <label for="on" style="color: #fff; font-weight: 600;">On</label>
    </form>

    <div class="container">
        <!-- LAMP SVG -->
        <svg class="lamp" viewBox="0 0 300 500">
            <g class="cords" fill="none" stroke-width="6">
                <path d="M150 0 L150 400" />
                <path d="M150 0 Q155 200 150 400" />
                <path d="M150 0 Q145 200 150 400" />
            </g>
            <line class="cord cord--dummy" x1="150" y1="0" x2="150" y2="400" stroke-width="6" />
            <circle class="lamp__hit" cx="150" cy="400" r="25" fill="red" />
            <rect x="140" y="400" width="20" height="20" class="lamp__tongue" />
            <ellipse cx="150" cy="420" rx="30" ry="15" class="shade__opening" />
            <circle cx="150" cy="470" r="50" class="lamp__light" fill="var(--l-1)" />
        </svg>

        <div class="login-form">
            <h2>Welcome Back</h2>
            <form onsubmit="return false;">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="Enter your username" required />
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required />
                </div>
                <button type="submit" class="login-btn">Login</button>
                <div class="form-footer">
                    <a href="#" class="forgot-link">Forgot Password?</a>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js"></script>
    <script src="https://assets.codepen.io/16327/MorphSVGPlugin3.min.js"></script>
    <script>
        const { gsap, Draggable, MorphSVGPlugin } = window;
        gsap.registerPlugin(MorphSVGPlugin);

        const AUDIO = {
            CLICK: new Audio("https://assets.codepen.io/605876/click.mp3"),
        };

        const ON = document.querySelector("#on");
        const OFF = document.querySelector("#off");
        const LOGIN_FORM = document.querySelector(".login-form");
        const PROXY = document.createElement("div");
        const HIT = document.querySelector(".lamp__hit");
        const DUMMY_CORD = document.querySelector(".cord--dummy");
        const CORDS = gsap.utils.toArray(".cords path");
        const ENDX = DUMMY_CORD.getAttribute("x2");
        const ENDY = DUMMY_CORD.getAttribute("y2");

        const RESET = () => gsap.set(PROXY, { x: ENDX, y: ENDY });
        RESET();

        const STATE = { ON: false };

        const CORD_TL = gsap.timeline({
            paused: true,
            onStart: () => {
                STATE.ON = !STATE.ON;
                gsap.set(document.documentElement, { "--on": STATE.ON ? 1 : 0 });
                const hue = gsap.utils.random(0, 359);
                gsap.set(document.documentElement, {
                    "--shade-hue": hue,
                    "--glow-color": `hsl(${hue}, 40%, 45%)`,
                    "--glow-color-dark": `hsl(${hue}, 40%, 35%)`,
                });
                AUDIO.CLICK.play();

                if (STATE.ON) {
                    ON.checked = true;
                    OFF.checked = false;
                    LOGIN_FORM.classList.add("active");
                } else {
                    ON.checked = false;
                    OFF.checked = true;
                    LOGIN_FORM.classList.remove("active");
                }
            },
            onComplete: RESET,
        });

        for (let i = 1; i < CORDS.length; i++) {
            CORD_TL.add(
                gsap.to(CORDS[0], {
                    morphSVG: CORDS[i],
                    duration: 0.1,
                    repeat: 1,
                    yoyo: true,
                })
            );
        }

        let startX, startY;
        Draggable.create(PROXY, {
            trigger: HIT,
            type: "x,y",
            onPress(e) {
                startX = e.x;
                startY = e.y;
            },
            onDrag() {
                gsap.set(DUMMY_CORD, {
                    attr: { x2: this.x, y2: Math.max(400, this.y) },
                });
            },
            onRelease(e) {
                const dx = Math.abs(e.x - startX);
                const dy = Math.abs(e.y - startY);
                const dist = Math.sqrt(dx * dx + dy * dy);
                gsap.to(DUMMY_CORD, {
                    attr: { x2: ENDX, y2: ENDY },
                    duration: 0.1,
                    onComplete: () => {
                        if (dist > 50) CORD_TL.restart();
                        else RESET();
                    },
                });
            },
        });
    </script>
</body>

</html>